# 분산 운영체제

## 10.1 분산 운영체제의 개요
### 10.1.1 분산 시스템
1. 분산시스템
   - 통신 네트워크를 통하여 서로 약하게 결합된 프로세서들의 집합
   - 프로세서들은 메모리와 클럭을 공유하지 안흠
   - 각 프로세서는 자신의 로컬 메모리를 가짐
2. 분산 시스템의 목적
   - 자원 공유
   - 연산속도 향상
   - 신뢰성 향상
   - 통신의 용이성
3. 분산 시스템의 네트워크 구성
   - 구성별 비교 기준 : 구축 비용, 통신 비용, 가용성
   - 완전 연결 네트워크 : 각 사이트는 모든 다른 사이트에 직접 연결
   - 부분 연결 네트워크 : 전부가 아닌 일부 사이트 쌍 사이에 직접 연결
   - 부분 연결 네트워크에는 트리 구조 네트워크, 스타형 네트워크, 링형 네트워크, 버스형 네트워크 등 존재
4. 네트워크의 유형
   - 근거리 통신망(LAN)
   - 원거리 통신망(WAN)

10.1.2 분산 운영체제
1. 투명성 제공
     - 사용자는 로컬 자원을 사용하는 것과 동일한 방식으로 연격지 자원을 사용
     - 분산 운영체제가 알아서 원격지 자원을 쓸 수 있도록 해줌
2. 데이터 이주
     - 원격지의 데이터를 필요한 곳으로 전송하여 사용하는 방식
     - 전체 데이터 전송 방식, 부분 데이터 전송 방식
3. 계산 이주
     - 원격 프로시저 호출(RPC)을 통해 원격지에서 처리(계산)한 후 결과를 받아 오는 방식
     - 대량의 데이터가 필요한 경우 유용
4. 프로세스 이주
     - 프로세스 자체를 원격지로 이주
     - 부하분산, 계산속도 향상 등이 가능
     - 선호하는 하드웨어나 소프트웨어가 있는 원격지를 직접 활용할 수 있는 방식

## 10.2 분산 파일 시스템
1. 분산 파일 시스템(DFS)
      - 클라이언트가 서버에 저장된 파일을 마치 로컬 파일인 것처럼 처리할 수 있는 클라이언트/서버 기반 파일 시스템
      - 투명한 DFS : DFS의 클라이언트 인터페이스가 로컬 파일과 원격 파일을 구분하지 않음
2. DFS의 네이밍 방식
     - 호스트 이름과 로컬 이름의 조합 방식
     - 원격 디렉토리들을 로컬 디렉토리에 붙이는 방식
3. 원격 파일에 대한 접근 요청 처리
     - 원격 서비스 메커니즘 : RPC를 통해 구현
     - 캐시 활용

## 10.3 분산 메모리
1. 원격 메모리
   - 전역 주소 공간에 매핑된 로컬 주소공간의 이름을 통하여 원격 메모리를 참조
2. 분산 공유 메모리
   - 원격 메모리가 물리적으로 원격지 컴퓨터에 위치하여 네트워크 프로토콜을 사용하여 접근되더라도 쓰레드는 원격 메모리를 거쳐 로컬 메모리처럼 취급
   - 가상 메모리 인터페이스를 이용하여 네트워크 메모리를 구현
   - 데이터 일관성은 운영체제의 핵심
  
## 10.4 원격 프로시저 호출
1. 원격프로시저 호출(RPC)
   - 한 컴퓨터에서 작동하고 있는 애플리케이션이 다른 컴퓨터에 있는 프로시저를 호출할 수 있도록 하는 클라이언트-서버 메커니즘
  
### 10.4.1 원격 프로시저 호출의 동작
1. RPC를 사용하려는 클라이언트는 일단 로컬 프로시저(스텁 루틴)을 호출
2. 스텁(stub) 루틴의 동작
   - 호출자가 넘겨준 인자를 메시지로 만든 후에 네트워크를 통해서 특정 서버 프로세스에 전달 후 중단
   - 서버의 스텁 루틴은 전달된 메시지를 보고 적절한 프로시저를 호출한 뒤 그 결과를 다시 메시지로 만들어서 클라이언트의 스텁 루틴에 돌려줌
   - 클라이언트 스텁 루틴의 수행이 재개되어 RPC의 결과 메시지를 풀어서 이를 다시 호출자에게 돌려줌


### 10.4.2 원격 프로시저 호출의 구현
1. RPC 구현을 위한 고려사항
   - 이상적으로 RPC의 구문은 고급 프로그래밍 언어에서의 로컬 프로시저 호출과 같음
   - 대부분의 RPC 구현은 참조호출을 지원하지 않음
   - RPC의 수신자는 호출이 생성된 곳과 유사한 환경에서 실행해야 함
2. RPC는 분산 처리에는 유용하나 병렬 처리에는 그렇지 못함
